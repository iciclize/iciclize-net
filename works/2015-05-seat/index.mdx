---
slug: "seat-change"
date: "2015-05"
title: "2-6席替えオンライン"
description: "Socket.ioを使ったオンライン席替えWebアプリ。みんながスマートフォンのボタンを押した合計回数分だけシャッフルする楽しい席替えを考えました。"
imagename: "work-seat.jpg"
keywords: [ "Node", "Socket.io" ]
---

## なにこれ

2-6席替えオンラインは、みんなで参加できるちょっと楽しい席替えWebアプリです。

## デモ映像

<blockquote class="twitter-tweet" data-lang="en"><p lang="ja" dir="ltr">高2の頃に作ったオォンライン席替えアプリの様子を撮影した動画を発掘したので見てください<br />大ウィンドウはスクリーン、小さいウィンドウはスマートフォン画面のつもりです <a href="https://t.co/f5XXG5kiMo">pic.twitter.com/f5XXG5kiMo</a></p>&mdash; いの (@iciclize) <a href="https://twitter.com/iciclize/status/1032304396581752832?ref_src=twsrc%5Etfw">August 22, 2018</a></blockquote>

教室のスクリーンに投影する用の画面とみんなのスマートフォンに表示する用の画面とを用意しています。

スクリーンの「解散」ボタンを押すとバラバラみんなの名前が落ちていくと同時に、各々のスマートフォンの画面に「Shuffle」ボタンが現れて、シャッフル回数のカウントが始まります。

時間内に「Shuffle」ボタンが押された回数分席順がシャッフルされて席が決まります。

リアルタイムカウントにはライブラリSocket.ioを使っています。

また、セッションの途中でクライアントの接続が切れても大丈夫なように、席替えシーケンスのの状態の管理を行う工夫はしました。

あまり制作時間を取れなかったので、途中で名前の位置がジャンプして不自然だったりしますがしょうがない。

## 制作の背景とエピソード

私のクラスの席替えは、学級委員がExcelのRANDOM()関数を使ってDELキー長押しルーレットで行っていました。

あるとき、その学級委員からExcel以外で席替えする方法ないかなと尋ねられたので、ちょっと変わった席替えの方法を考えたのでした。

席替えアプリを作っているうちに、テスト期間に突入してしまったのですが、なんとか次の席替えまでに間に合わせたいと意地になって、テストそっちのけで席替えアプリを作り、席替え当日に大成功を収めることができました。

当然テストは大失敗ですが。(とはいってもいつも赤点なんですけどね)
